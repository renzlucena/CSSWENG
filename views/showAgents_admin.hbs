<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<html>
<head>
    <!-- <link rel = "stylesheet" href="agent_add_view.css"> -->
    <title>See All Agents</title>

	
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
	<script>
		function openNav() {
			if(document.getElementById("sidebar").style.width=="0%")
			{
				document.getElementById("sidebar").style.width = "100%";
			}
			else{
				document.getElementById("sidebar").style.width = "0%";

			}
		}
		
		
		function confirmAction() {
			if (confirm("Are you sure?") == true) {
				return true
			} else {
				return false;
		  }
		}	

		function toggleCell(x) {
			if (x == 0) {
				return true
			} else {
				return false;
		  }
		}
	</script>

	<link rel = "stylesheet" href="/agent_add_view.css">	
	<!-- BOOTSTRAP  CHENEZ   AYAWKOANANAJKDBAKJW -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
</head>
<body>
	<nav class="navbar navbar-dark navbar-inverse bgc-super-dark navbar-fixed-top pb-3">
		<div class= "d-inline-block">
			<img src="6227853b83e54f2e94c29519d7c234db (1).jpg" height="72px" class="mx-3">
			
		<div class="openbtn" >
			<a href="#" onclick="openNav()">â˜°</a>
		</div>

		</div>
		
	</nav>
	
	<div class="container-flex">
		
		<div id="sidebar" class=" d-inline-block h-100">
	       <div class="sidebar-profile ">
				<div class="sidebar-profile-text">
					<p class="sidebar-profile-name">Administrator</p>
					<p class="sidebar-profile-email"><i>{{this.lname}}, {{this.fname}} #{{this.appnum}}</i></p>
					<br>
					<p class="sidebar-profile-email"><i>{{this.email}}</i></p>
					<a class="bgc-none" href="/logout">Log Out</a>
				</div>
			</div>

			<div><a href="/assignments">Assignment Management</a></div>
			
			<div><a class="active" href="/admin/accounts">Agent Management</a></div>
			
			<div><a href="/history">History</a></div>
			
			<div><a href="/admin-add-agent">Add New Agent</a></div>
			
			<div><a href="/admin-add-assignment">Add New Assignment</a></div>
			
        </div>

		<div class ="main d-inline-block main w-75 container-flex">
            <div class="main-header">
                <h1 class="px-4">Agents</h1>
                <p class="px-5"><b><i>Admin Panel</b></i></p>
            </div>
			
			<form method="get" action="/assignments" class="mx-auto">
				<div class="table-responsive main-table">
					<table>
						<tr class="th-big">
							<th>USERNAME</th>
							<th>EMAIL</th>
							<th>CAN ACCEPT?</th>
							<th>ACTION</th>
						</tr>
						
							<!-- <th colspan='4'> -->
								<!-- <a href="#" class="w-100 bgc-white td-none color-white" onclick="return toggleCell(0)"> -->
										<!-- Active Agents -->
									<!-- <span class="badge badge-red">{{this.n_active}}</span> -->
								<!-- </a> -->
							<!-- </th> -->
						<tr>
							<th colspan='4'>Active Agents</th>
						</tr>
						
						{{#each activated}}
						<tr>
							<td>{{this.username}}</td>
							<td>{{this.email}}</td>
							<td>{{this.can_accept}}</td>
							<td>
								<div>
									<a onclick="return confirmAction()" href="/admin/del/{{username}}"><img src="icons8-delete-30.png"></a>
									<a onclick="return confirmAction()" href="/admin/reset-password/{{username}}"><img src="icons8-reset-30.png"></a>
									<a onclick="return confirmAction()" href="/admin/deact/{{username}}"><img src="icons8-lock-{{this.can_accept}}.png"></a>
								</div>
							</td>
						</tr>
						{{/each}}
						
						<tr>
							<th colspan='4'>Inactive Agents</th>
						</tr>
						
						{{#each inactive}}
												<tr>
							<td>{{this.username}}</td>
							<td>{{this.email}}</td>
							<td>{{this.can_accept}}</td>
							<td>
								<div>
									<a onclick="return confirmAction()" href="/admin/del/{{username}}"><img src="icons8-delete-30.png"></a>
									<a onclick="return confirmAction()" href="/admin/reset-password/{{username}}"><img src="icons8-reset-30.png"></a>
									<a onclick="return confirmAction()" href="/admin/deact/{{username}}"><img src="icons8-lock-{{this.can_accept}}.png"></a>
								</div>
							</td>
						</tr>
						{{/each}}
					</table>
				</div>
			</form>
        </div>
    </div>
</body>
</html>
