<!DOCTYPE html>

<meta name="viewport" content="width=device-width, initial-scale=1">
<html>
<head>
    <link rel = "stylesheet" href="/agent_set.css">
    <title>Settings</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
	<script>
		function openNav() {
			if(document.getElementById("sidebar").style.width=="0%")
			{			
				document.getElementById("sidebar").style.width = "110%";
				document.getElementById("bottom-button").style.width = "110%";
			}
			else{
				document.getElementById("sidebar").style.width = "0%";
				document.getElementById("bottom-button").style.width = "0%";

			}
		}
		
        function checkForm()
        {
            var valid = true;
            var password = document.getElementById("password");
            var password_comment = document.getElementById("password_comment");
            var retypepwd = document.getElementById("retypepwd");
            var submit_comment = document.getElementById("submit_comment");
            
			if (password.value == retypepwd.value)
			{
				password.style.backgroundColor = "white";
				retypepwd.style.backgroundColor = "white";
				valid=true;
			}
			else{
			
				//submit_comment.value = ""	//resets it to blank in case any error is caught
			
				//if field retypepwd is empty but field password is not, red retypepwd
				if (retypepwd.value == "" && password.value != "")
				{
					retypepwd.style.backgroundColor = "red";
					password.style.backgroundColor = "white";
					valid = false;
				}
				//if field retypepwd is OT empty but field password is, red password field
				else if (retypepwd.value != "" && password.value == ""){
					password.style.backgroundColor = "red";
					retypepwd.style.backgroundColor = "white";
					valid = false;
				}
				else //if (password.value != retypepwd.value)
				{
					password.style.backgroundColor = "red";
					retypepwd.style.backgroundColor = "red";
					valid=false;
				}
			}
			
			// TODO/NOTE: in index, check if username already exists, if it does, change username_comment to "Username exists, cannot save."
            return valid;
        }
		
    </script>
	<link rel = "stylesheet" href="/agent_add_view.css">	
	<!-- BOOTSTRAP  CHENEZ   AYAWKOANANAJKDBAKJW -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
</head>
<body>
	<nav class="navbar navbar-dark navbar-inverse bgc-super-dark navbar-fixed-top pb-3">
		<div class= "d-inline-block">
			<img src="6227853b83e54f2e94c29519d7c234db (1).jpg" height="72px" class="mx-3">
			<a class="color-white td-none" href="mailto:philhauz@yahoo.com">Contact Admin</a>
			
		<div class="openbtn" >
			<a href="#" onclick="openNav()">â˜°</a>
		</div>

		</div>
		
	</nav>
	
	<div class="container-flex">
		
		<div id="sidebar" class=" d-inline-block h-100">
	       <div class="sidebar-profile ">
				<div class="sidebar-profile-text">
					<p class="sidebar-profile-name">{{this.username}}</p>
					<p class="sidebar-profile-email"><i>{{this.lname}}, {{this.fname}} #{{this.appnum}}</i></p>
					<br>
					<p class="sidebar-profile-email"><i>{{this.email}}</i></p>
					<a class="bgc-none" href="/logout">Log Out</a>
				</div>
			</div>

			
			<div><a href="/dashboard">Dashboard</a></div>
			
			<div><a class="active" href="/assignments">Assignments</a></div>
			
			<div><a href="/history">History</a></div>
			
			<div><a href="/profile">Profile</a></div>
			
        </div>

		<div class ="main d-inline-block main w-75 container-flex">
            <div class="main-header">
                <h1 class="px-4">Settings</h1>
                <p class="px-5"><b><i>Items will NOT be autosaved!</b></i></p>
                <p class="px-5">Please be mindful before you close the page.</p>
            </div>

            <div class="main-table">
                <table>
                    <form method="get" onsubmit="return checkForm()" action="/set-settings" >
                    
                    <tr>
                        <th><label for="username">Username:</label></th>
                        <td><input type="text" id="username" name="username" value="{{this.username}}"></td>
                        <td>{{this.username_comment}}</td>
                    </tr>
					
					<tr>
                        <th><label for="appnum">Appraiser's License No.:</label></th>
                        <td><input type="number" id="appnum" name="appnum" value="{{this.appnum}}"></td>
                        <td>{{this.appnum_comment}}</td>
                    </tr>
                    <tr>
                        <th><label for="appnum">Appraiser's Address:</label></th>
                        <td><input type="text" id="appaddress" name="appaddress" value="{{this.appaddress}}"></td>
                        <td>{{this.appaddress_comment}}</td>
                    </tr>
                    <tr>
                        <th><label for="email">Email Address:</label></th>
                        <td><input type="email" id="email" name="email" value="{{this.email}}"></td>
                        <td>{{this.email_comment}}</td>
                    </tr>
                    <tr>
                        <th><label for="password">Password:</label></th>
                        <td><input type="password" id="password" name="password"></td>
                        <td>{{this.password_comment}}</td>
                    </tr>
                    <tr>
                        <th><label for="retypepwd">Retype Password:</label></th>
                        <td><input type="password" id="retypepwd" name="retypepwd"></td>
                        <td>{{this.retype_comment}}*If you forget your password, please coordinate with your admin</td>
                    </tr>
                    <tr>
                        <th><label for="theme">Apply:</label></th>
                        <!-- <td><select id="theme" name="theme"> -->
                            <!-- <option value="Light">Light</option> -->
                            <!-- <option value="Dark">Dark</option> -->
                        <!-- </select></td> -->
                        <td><input type="submit" id="applysett" value="Apply Settings"></td>
                        <td>{{this.submit_comment}}</td>
                    </tr>
                    </form>
                </table>
            </div>

        </div>
    </div>
</body>
</html>
